(function(){function scrollToView(element,extra_offset){element&&(anchorOffset=$(element).offset().top-($(window).width()<768?$("main").offset().top-$("header").height()+0:$("main").offset().top+0)+extra_offset,$("html, body").not(".tab-pane").animate({scrollTop:anchorOffset},0))}$((function(){function calcInnerHeight(element){var inner_height=0;return element.children().each((function(i){inner_height+=$(this).height()})),inner_height}$("table.table-autodoc tr").each((function(tr_idx){$(this).children("td").each((function(td_idx){if($(this).height()>150&&calcInnerHeight($(this))>150){var tr_class="tr_"+tr_idx;$(this).wrapInner('<div class="collapse show_more_div '+tr_class+'" aria-expanded="false">'),$(this).append($('<a role="button" class="show_more collapsed" data-toggle="collapse" data-target=".'+tr_class+'" aria-expanded="false" href="#'+tr_class+'"aria-controls="'+tr_class+'"></a>'))}}))}));$(".page-discussions .post-content").each((function(post_idx){if($(this).height()>250&&calcInnerHeight($(this))>250){var post_class="post_"+post_idx;$(this).wrapInner('<div class="collapse show_more_div '+post_class+'" aria-expanded="false">'),$(this).append($('<a role="button" class="show_more collapsed" data-toggle="collapse" data-target=".'+post_class+'" aria-expanded="false" href="#'+post_class+'"aria-controls="'+post_class+'"></a>'))}}))})),$((function(){function scrollToCenter(){var selected_node_id=$("#sidebar-tree").jstree(!0).get_selected()[0];"?api=star"==window.location.search&&(selected_node_id="b"+selected_node_id);var $element=document.getElementById(selected_node_id);if(null!=$element){var h=Math.max(document.documentElement.clientHeight,window.innerHeight||0),topPos=$element.offsetTop;document.getElementById("sidebar-tree").parentNode.scrollTop=topPos-h/2}}function selectAndOpenNodeAncestors(node_id,parent_node_id){var idx;$("#sidebar-tree").jstree(!0).deselect_all(!0),$("#sidebar-tree").jstree(!0).close_all(parent_node_id),$("#sidebar-tree").jstree(!0).open_node(parent_node_id);var currentNode=$("#sidebar-tree").jstree(!0).get_node(node_id);for(idx=0;idx<currentNode.parents.length-1&&currentNode.parents[idx]!=parent_node_id;idx++){$("#sidebar-tree").jstree(!0).is_loaded(currentNode.parents[idx])&&$("#sidebar-tree").jstree(!0).open_node(currentNode.parents[idx])}$("#sidebar-tree").jstree(!0).is_loaded(node_id)&&$("#sidebar-tree").jstree(!0).open_node(node_id),$("#sidebar-tree").jstree(!0).select_node(node_id)}if(mySearchParam=function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var results=new RegExp("[\\?&]"+name+"=([^&#]*)").exec(location.search);return null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))}("q"),null!=mySearchParam&&$("#search-in-project").val(mySearchParam),document.getElementById("sidebar-tree")){var ajax_url="/ajax-noindex/populate-sidebar/"+$("#docsforge_data").data("version")+"/"+$("#docsforge_data").data("page-path")+"/",json_sidebar_initial_data=JSON.parse(document.getElementById("sidebar_data").firstChild.data);"jstree-theme-dark"==$("#sidebar-tree").attr("class")?$("#sidebar-tree").jstree({plugins:["wholerow"],core:{themes:{name:"default-dark"},animation:0,data:function(node,cb){"#"===node.id?cb(json_sidebar_initial_data):$.ajax({url:ajax_url+"?id="+node.id}).done((function(data){cb(data)}))}}}):$("#sidebar-tree").jstree({plugins:["wholerow"],core:{animation:0,data:function(node,cb){"#"===node.id?cb(json_sidebar_initial_data):$.ajax({url:ajax_url+"?id="+node.id}).done((function(data){cb(data)}))}}}),$("#sidebar-tree").on("ready.jstree",(function(e,data){var path=function(){var path="/"+$("#docsforge_data").data("version")+"/"+$("#docsforge_data").data("page-path")+"/"+window.location.hash;return $("#sidebar-tree").jstree(!0).get_node(path)||(path="/"+$("#docsforge_data").data("version")+"/"+$("#docsforge_data").data("page-path")+"/"),path}();"?api=star"==window.location.search?$(this).jstree(!0).open_node("b"+path,!1):$(this).jstree(!0).open_node(path,!1),$(this).jstree(!0).select_node(path),$("#"+$.escapeSelector(path)).addClass("jstree-selected-subtree"),$(this).jstree(!0).select_node("b"+path),$("#"+$.escapeSelector("b"+path)).addClass("jstree-selected-subtree"),$("#sidebar-tree").show(),$(this).on("activate_node.jstree",(function(e,data){urlSplit=data.node.a_attr.href.split("#"),url=urlSplit[0],2==urlSplit.length?hash=urlSplit[1]:hash=null,url!=window.location.pathname?window.location.href=data.node.a_attr.href:(selectAndOpenNodeAncestors(data.node.id,urlSplit[0]),$("#project-docs-nav").hasClass("collapse")&&!$("#project-docs-nav").hasClass("show")?window.location.replace(data.node.a_attr.href):($("#sidebar-tree").hide(),window.location.replace(data.node.a_attr.href),$("#project-docs-nav").collapse("hide")))})),$(window).on("hashchange",(function(){path=window.location.pathname,"?api=star"==window.location.search&&(path="b"+path),""!=window.location.hash&&(path_with_hash=path+window.location.hash),selectAndOpenNodeAncestors(path_with_hash,path)})),scrollToCenter(),$("#project-docs-nav").on("shown.bs.collapse",(function(){$("#sidebar-tree").show(),scrollToCenter()})),$("#project-docs-nav").on("hidden.bs.collapse",(function(){$("#sidebar-tree").show()}))}))}})),$((function(){var HEADINGS_IDS,HEADINGS_POSITIONS,DESCENDANT_IDS=[],DESCENDANT_URL_LAST_PART=[];function extractHash(url){var splits=url.split("#");return 2==splits.length?splits[1]:""}function extractLastSegment(url){var splits=url.split("/"),last=splits.pop();return last||(last=splits.pop()),last}function scrollSpyCalcHeadings(){var idx,posOffset=document.getElementsByTagName("main")[0].getBoundingClientRect().top,path="/"+$("#docsforge_data").data("version")+"/"+$("#docsforge_data").data("page-path")+"/";for("?api=star"==window.location.search&&(path="b"+path),HEADINGS_IDS=[],HEADINGS_POSITIONS=[],idx=0;idx<DESCENDANT_IDS.length;idx++)if(null!=DESCENDANT_IDS[idx]&&DESCENDANT_IDS[idx]!=path){var hash_or_last_segment;(hash_or_last_segment=extractHash(DESCENDANT_IDS[idx]))||(hash_or_last_segment=extractLastSegment(DESCENDANT_IDS[idx]));var $element=document.getElementById(hash_or_last_segment);if(null!=$element){var style=window.getComputedStyle($element),marginTop=parseInt(style.marginTop),posTop=$element.getBoundingClientRect().top;HEADINGS_IDS.push(hash_or_last_segment),HEADINGS_POSITIONS.push(posTop-marginTop-posOffset)}}}$("#sidebar-tree").on("ready.jstree",(function(e,data){!function(){var path="/"+$("#docsforge_data").data("version")+"/"+$("#docsforge_data").data("page-path")+"/";"?api=star"==window.location.search&&(path="b"+path);var currentNode=$("#sidebar-tree").jstree(!0).get_node(path),children=$("#sidebar-tree").jstree("get_children_dom",currentNode);for(idx=0;idx<children.length;idx++)for(childNode=$("#sidebar-tree").jstree(!0).get_node(children[idx].id),DESCENDANT_IDS.push(childNode.id),idx2=0;idx2<childNode.children.length;idx2++)DESCENDANT_IDS.push(childNode.children[idx2]);for(i=0;i<DESCENDANT_IDS.length;i++){var last_item=DESCENDANT_IDS[i].split("/").filter(Boolean).pop();"#"==last_item[0]&&(last_item=last_item.substring(1)),DESCENDANT_URL_LAST_PART.push(last_item)}}(),scrollSpyCalcHeadings(),$(window).scroll((function(event){$("#project-docs-nav").hasClass("collapse")&&!$("#project-docs-nav").hasClass("show")&&function(){var scrollPos,i,closestIdx=-10;if((scrollPos=$(window).width()<768?$(this).scrollTop()-$("header").height():$(this).scrollTop())-0<HEADINGS_POSITIONS[0]&&(closestIdx=-1),-10==closestIdx)for(i=0;i<HEADINGS_POSITIONS.length-1;i++)if(scrollPos>=HEADINGS_POSITIONS[i]&&scrollPos-0<HEADINGS_POSITIONS[i+1]){closestIdx=i;break}-10==closestIdx&&scrollPos>=HEADINGS_POSITIONS[HEADINGS_POSITIONS.length-1]&&(closestIdx=HEADINGS_POSITIONS.length-1);var selectedNodeChanged=!1,new_hash_or_last_segment="";if(-10!=closestIdx&&(-1==closestIdx&&""!=window.location.hash?(selectedNodeChanged=!0,new_hash_or_last_segment=""):-1!=closestIdx&&window.location.hash!="#"+HEADINGS_IDS[closestIdx]&&(selectedNodeChanged=!0,new_hash_or_last_segment=HEADINGS_IDS[closestIdx])),selectedNodeChanged){var new_path;if(new_path=new_hash_or_last_segment?window.location.pathname+window.location.search+"#"+new_hash_or_last_segment:window.location.pathname+window.location.search,history.replaceState(null,null,new_path),$("#sidebar-tree").jstree(!0).deselect_all(!0),-1!=closestIdx){var path="/"+$("#docsforge_data").data("version")+"/"+$("#docsforge_data").data("page-path")+"/";"?api=star"==window.location.search&&(path="b"+path);var pathNode=$("#sidebar-tree").jstree(!0).get_node(path);$("#sidebar-tree").jstree("close_all",pathNode)}if(new_hash_or_last_segment){var new_selected_path;for(i=0;i<DESCENDANT_URL_LAST_PART.length;i++)if(DESCENDANT_URL_LAST_PART[i]==new_hash_or_last_segment){new_selected_path=DESCENDANT_IDS[i];break}$("#sidebar-tree").jstree(!0).is_loaded(new_selected_path)&&$("#sidebar-tree").jstree(!0).open_node(new_selected_path),$("#sidebar-tree").jstree(!0).select_node(new_selected_path)}else new_selected_path="/"+$("#docsforge_data").data("version")+"/"+$("#docsforge_data").data("page-path")+"/","?api=star"==window.location.search&&(new_selected_path="b"+new_selected_path),$("#sidebar-tree").jstree(!0).select_node(new_selected_path);if("?api=star"==window.location.search){var non_important_api_path="/"+$("#docsforge_data").data("version")+"/"+$("#docsforge_data").data("page-path")+"/";$("#sidebar-tree").jstree(!0).select_node(non_important_api_path)}}}()}));var current_path="/"+$("#docsforge_data").data("version")+"/"+$("#docsforge_data").data("page-path")+"/";$("#sidebar-tree").on("after_open.jstree",(function(e,data){data.node.id=="b"+current_path&&scrollSpyCalcHeadings()})),$(window).resize((function(){scrollSpyCalcHeadings()})),$(".show_more_div").on("shown.bs.collapse",(function(){scrollSpyCalcHeadings()})),$(".show_more_div").on("hidden.bs.collapse",(function(){scrollSpyCalcHeadings()})),$(".alert").on("closed.bs.alert",(function(){scrollSpyCalcHeadings()}))}))})),$((function(){$('[data-toggle="tooltip"], [data-toggle="tooltip popover"]').tooltip(),$('[data-toggle="popover"], [data-toggle="tooltip popover"]').popover({html:!0,content:function(){var content=$(this).attr("data-popover-content");return $(content).children(".popover-body").html()},title:function(){var title=$(this).attr("data-popover-content");return $(title).children(".popover-heading").html()}}),$(".mrkdwn table").addClass("table table-bordered table-striped").wrap("<div class='table-responsive'></div>")})),function(w,d){"use strict";var css,BREAK_LINE_REGEXP=/\r\n|\r|\n/g;function documentReady(options){try{var blocks=d.querySelectorAll("code.hljs,code.nohighlight");for(var i in blocks)blocks.hasOwnProperty(i)&&(blocks[i].classList.contains("nohljsln")||lineNumbersBlock(blocks[i],options))}catch(e){w.console.error("LineNumbers error: ",e)}}function lineNumbersBlock(element,options){var func;"object"==typeof element&&(func=function(){element.innerHTML=lineNumbersInternal(element,options);const event=new Event("ready");element.dispatchEvent(event)},w.setTimeout(func,0))}function lineNumbersInternal(element,options){var internalOptions=function(element,options){return{singleLine:getSingleLineOption(options=options||{}),startFrom:getStartFromOption(element,options)}}(element,options);return duplicateMultilineNodes(element),function(inputHtml,options){var lines=getLines(inputHtml);""===lines[lines.length-1].trim()&&lines.pop();if(lines.length>1||options.singleLine){for(var html="",i=0,l=lines.length;i<l;i++)html+=format('<tr><td class="{0} {1}" {3}="{5}"><div class="{2}" {3}="{5}"></div></td><td class="{0} {4}" {3}="{5}">{6}</td></tr>',["hljs-ln-line","hljs-ln-numbers","hljs-ln-n","data-line-number","hljs-ln-code",i+options.startFrom,lines[i].length>0?lines[i]:" "]);return format('<table class="{0}">{1}</table>',["hljs-ln",html])}return inputHtml}(element.innerHTML,internalOptions)}function getSingleLineOption(options){return!!options.singleLine&&options.singleLine}function getStartFromOption(element,options){var startFrom=1;isFinite(options.startFrom)&&(startFrom=options.startFrom);var value=function(element,attrName){return element.hasAttribute(attrName)?element.getAttribute(attrName):null}(element,"data-ln-start-from");return null!==value&&(startFrom=function(str,fallback){if(!str)return fallback;var number=Number(str);return isFinite(number)?number:fallback}(value,1)),startFrom}function duplicateMultilineNodes(element){var nodes=element.childNodes;for(var node in nodes)if(nodes.hasOwnProperty(node)){var child=nodes[node];(child.textContent.trim().match(BREAK_LINE_REGEXP)||[]).length>0&&(child.childNodes.length>0?duplicateMultilineNodes(child):duplicateMultilineNode(child.parentNode))}}function duplicateMultilineNode(element){var className=element.className;if(/hljs-/.test(className)){for(var lines=getLines(element.innerHTML),i=0,result="";i<lines.length;i++){result+=format('<span class="{0}">{1}</span>\n',[className,lines[i].length>0?lines[i]:" "])}element.innerHTML=result.trim()}}function getLines(text){return 0===text.length?[]:text.split(BREAK_LINE_REGEXP)}function format(format,args){return format.replace(/\{(\d+)\}/g,(function(m,n){return void 0!==args[n]?args[n]:m}))}w.hljs?(w.hljs.initLineNumbersOnLoad=function(options){"interactive"===d.readyState||"complete"===d.readyState?documentReady(options):w.addEventListener("DOMContentLoaded",(function(){documentReady(options)}))},w.hljs.lineNumbersBlock=lineNumbersBlock,w.hljs.lineNumbersValue=function(value,options){if("string"!=typeof value)return;var element=document.createElement("code");return element.innerHTML=value,lineNumbersInternal(element,options)},(css=d.createElement("style")).type="text/css",css.innerHTML=format(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",["hljs-ln","hljs-ln-n","data-line-number"]),d.getElementsByTagName("head")[0].appendChild(css)):w.console.error("highlight.js not detected!"),document.addEventListener("copy",(function(e){var selectionText,selection=window.getSelection();(function(domElt){for(var curElt=domElt;curElt;){if(curElt.className&&-1!==curElt.className.indexOf("hljs-ln-code"))return!0;curElt=curElt.parentNode}return!1})(selection.anchorNode)&&(selectionText=-1!==window.navigator.userAgent.indexOf("Edge")?function(selection){for(var selectionText=selection.toString(),tdAnchor=selection.anchorNode;"TD"!==tdAnchor.nodeName;)tdAnchor=tdAnchor.parentNode;for(var tdFocus=selection.focusNode;"TD"!==tdFocus.nodeName;)tdFocus=tdFocus.parentNode;var firstLineNumber=parseInt(tdAnchor.dataset.lineNumber),lastLineNumber=parseInt(tdFocus.dataset.lineNumber);if(firstLineNumber!=lastLineNumber){var firstLineText=tdAnchor.textContent,lastLineText=tdFocus.textContent;if(firstLineNumber>lastLineNumber){var tmp=firstLineNumber;firstLineNumber=lastLineNumber,lastLineNumber=tmp,tmp=firstLineText,firstLineText=lastLineText,lastLineText=tmp}for(;0!==selectionText.indexOf(firstLineText);)firstLineText=firstLineText.slice(1);for(;-1===selectionText.lastIndexOf(lastLineText);)lastLineText=lastLineText.slice(0,-1);for(var selectedText=firstLineText,hljsLnTable=function(hljsLnDomElt){for(var curElt=hljsLnDomElt;"TABLE"!==curElt.nodeName;)curElt=curElt.parentNode;return curElt}(tdAnchor),i=firstLineNumber+1;i<lastLineNumber;++i){var codeLineSel=format('.{0}[{1}="{2}"]',["hljs-ln-code","data-line-number",i]);selectedText+="\n"+hljsLnTable.querySelector(codeLineSel).textContent}return selectedText+"\n"+lastLineText}return selectionText}(selection):selection.toString(),e.clipboardData.setData("text/plain",selectionText),e.preventDefault())}))}(window,document),$((function(){function scrollToLineNumber(lineNumber){var selector=".hljs-ln-line[data-line-number='"+lineNumber+"']",element_to_scroll_to=document.querySelector(selector);extra_offset=-100,scrollToView(element_to_scroll_to,extra_offset)}function extractLineNumbersFromHash(){var matches=location.hash.substring(1).match(/L\d+/g);return 0==matches.length?{first:null,second:null}:1==matches.length?{first:parseInt(matches[0].substring(1)),second:null}:{first:parseInt(matches[0].substring(1)),second:parseInt(matches[1].substring(1))}}function colorLineNumbers(lineNumberBegin,lineNumberEnd){var idx,lineNumber,highlightedList=document.querySelectorAll(".hljs-ln-highlight");for(idx=0;idx<highlightedList.length;idx++)highlightedList[idx].classList.remove("hljs-ln-highlight");if(lineNumberBegin)for(lineNumberEnd||(lineNumberEnd=lineNumberBegin),lineNumber=lineNumberBegin;lineNumber<lineNumberEnd+1;lineNumber++){var selector=".hljs-ln-code[data-line-number='"+lineNumber+"']",element=document.querySelector(selector);element&&element.classList.add("hljs-ln-highlight")}}if("undefined"!=typeof hljs){hljs.configure({languages:[]}),$("pre code").each((function(i,e){hljs.highlightBlock(e)})),$("pre.literal-block").each((function(i,e){hljs.highlightBlock(e)})),$("pre.do-hljs-ln code.hljs").each((function(i,block){hljs.lineNumbersBlock(block)}));var idx,preList=document.querySelectorAll("pre.do-hljs-ln code.hljs");for(idx=0;idx<preList.length;idx++)preList[idx].addEventListener("ready",(function(e){if(location.hash){var res=extractLineNumbersFromHash();scrollToLineNumber(res.first),colorLineNumbers(res.first,res.second),e.preventDefault(),e.stopPropagation()}$(window).on("hashchange",(function(){var res=extractLineNumbersFromHash();scrollToLineNumber(res.first),colorLineNumbers(res.first,res.second),e.preventDefault(),e.stopPropagation()})),$(".hljs-ln-n").click((function(){var lineNumber=parseInt($(this).attr("data-line-number")),new_path=window.location.pathname+window.location.search+"#L"+lineNumber;history.replaceState(null,null,new_path),colorLineNumbers(lineNumber,lineNumber),e.preventDefault(),e.stopPropagation()}))}),!1)}})),$((function(){$(".anchorify.mrkdwn :header").each((function(index){var identifier=$(this).attr("id");if(identifier){var row_str='<a title="Permanent link" class="headerlink" rel="nofollow" href="#'+identifier+'"> <i class="fa fa-link" aria-hidden="true"></i></a>';$(this).append(row_str)}}))})),function(document,history,location){var HISTORY_SUPPORT=!(!history||!history.pushState),anchorScrolls={ANCHOR_REGEX:/^#[^ ]+$/,OFFSET_HEIGHT_PX:70,init:function(){if(window.performance){var navEntries=window.performance.getEntriesByType("navigation");navEntries.length>0&&"back_forward"===navEntries[0].type||window.performance.navigation&&window.performance.navigation.type==window.performance.navigation.TYPE_BACK_FORWARD||this.scrollToCurrent()}else this.scrollToCurrent();$(window).on("hashchange",$.proxy(this,"scrollToCurrent")),$("h1, h2, h3, h4, h5, h6").on("click","a",$.proxy(this,"delegateAnchors"))},getFixedOffset:function(){return $(window).width()<768?$("main").offset().top-$("header").height()+0:$("main").offset().top+0},scrollIfAnchor:function(href,pushToHistory){var match,anchorOffset;return!!this.ANCHOR_REGEX.test(href)&&((match=document.getElementById(href.slice(1)))&&(anchorOffset=$(match).offset().top-this.getFixedOffset(),$("html, body").not(".tab-pane").animate({scrollTop:anchorOffset},0),HISTORY_SUPPORT&&pushToHistory&&history.pushState({},document.title,location.pathname+href)),!!match)},scrollToCurrent:function(e){this.scrollIfAnchor(window.location.hash)&&e&&e.preventDefault()},delegateAnchors:function(e){var elem=e.target;this.scrollIfAnchor(elem.getAttribute("href"),!0)&&e.preventDefault()}};$(document).ready($.proxy(anchorScrolls,"init"))}(window.document,window.history,window.location),$((function(){if(document.getElementById("search-in-project")){var version_name=$("#docsforge_data").data("version");$("#search-in-project").autocomplete({serviceUrl:"/admin/ajax/search-in-project/"+version_name+"/",minChars:2,width:"flex",groupBy:"section",deferRequestBy:500,onSelect:function(suggestion){window.location.href="/"+version_name+"/"+suggestion.data.url}})}})),$((function(){$("div.toc").detach().insertAfter("nav.breadcrumb-toolbar"),$("<h3>Table Of Contents</h3>").prependTo("div.toc")})),$((function(){"function"==typeof autosize&&autosize($("textarea"))})),$((function(){$("textarea.markdown-editor").each((function(index){var original_textarea=$(this)[0].outerHTML;$(this).replaceWith('<div class="post-block"><div class="post-header"><ul class="nav nav-pills" id="pills-tab" role="tablist"><li class="nav-item"><a class="nav-link active" id="pills-markdown-tab" data-toggle="pill" href="#pills-markdown" role="tab" aria-controls="pills-markdown" aria-selected="true">Markdown</a></li><li class="nav-item"><a class="nav-link" id="pills-preview-tab" data-toggle="pill" href="#pills-preview" role="tab" aria-controls="pills-preview" aria-selected="false">Preview</a></li></ul></div><div class="post-content"><div class="tab-content" id="pills-tabContent"><div class="tab-pane fade show active" id="pills-markdown" role="tabpanel" aria-labelledby="pills-markdown-tab">'+original_textarea+'</div><div class="tab-pane fade" id="pills-preview" role="tabpanel" aria-labelledby="pills-preview-tab"><p></p></div></div></div>')})),$("#pills-preview-tab").on("click",(function(e){var my_data=document.getElementById("id_body").value;my_data?$.post("/ajax/markdown-to-html/",{raw_markdown:my_data}).done((function(data){$("#pills-preview").html(data)})):$("#pills-preview").html("<p></p>")}))})),$((function(){document.getElementById("recaptcha_form")&&$("#recaptcha_form input").on("focus",(function(){$(".grecaptcha-badge").show()}))}))}).call(this);
